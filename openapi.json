{"openapi":"3.0.0","paths":{"/api/auth":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Login with a password","tags":["Auth"]}},"/api/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponseDto"}}}}},"summary":"Register a user","tags":["Auth"]}},"/api/auth/logout":{"delete":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":""}},"summary":"Logout","tags":["Auth"]}},"/api/auth/who-am-i":{"get":{"operationId":"AuthController_getProfile","parameters":[],"responses":{"200":{"description":""}},"tags":["Auth"]}},"/api/auth/verify-aws":{"post":{"operationId":"AuthController_verifyEmail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyEmailDto"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/properties/dashboard":{"get":{"operationId":"PropertiesController_getDashboard","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDashboardResponseDto"}}}}},"summary":"Fetch last month, this month and today count data","tags":["Properties"]}},"/api/properties/listings":{"get":{"operationId":"PropertiesController_listings","parameters":[{"name":"filteredStatus","required":false,"in":"query","schema":{"type":"array","items":{"type":"string","enum":["FURNISHED","EMPTY","NO_DATA","NOT_FILTERED"]}}},{"name":"propertyStatus","required":false,"in":"query","schema":{"type":"array","items":{"type":"string","enum":["COMING_SOON","FOR_SALE","PENDING"]}}},{"name":"state","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"propertyValueFrom","required":false,"in":"query","schema":{"type":"number"}},{"name":"propertyValueTo","required":false,"in":"query","schema":{"type":"number"}},{"name":"dateFrom","required":false,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"dateTo","required":false,"in":"query","schema":{"format":"date-time","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Property"}}}}}},"summary":"Show Listings","tags":["Properties"]}},"/api/properties/filtering":{"get":{"operationId":"PropertiesController_filtering","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilteringResponseDto"}}}}},"summary":"Listings / show property that is not filtered","tags":["Properties"]}},"/api/properties/filtering/{id}":{"post":{"operationId":"PropertiesController_filteringAction","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilteringActionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Action for property filtering","tags":["Properties"]}},"/api/properties/state":{"get":{"operationId":"PropertiesController_listStates","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StateResponseDto"}}}}}},"summary":"List all states","tags":["Properties"]}},"/api/properties/no-ui/fetch-snapshot-data":{"post":{"operationId":"PropertiesController_fetchSnapshotData","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FetchSnapshotDto"}}}},"responses":{"201":{"description":""}},"summary":"Manually run the scrapper per brightdata ID","tags":["Properties"]}},"/api/properties/products":{"get":{"operationId":"PropertiesController_getProducts","parameters":[{"name":"state","required":true,"in":"query","schema":{"enum":["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/County"}}}}}},"summary":"List products by state","tags":["Properties"]}},"/api/properties/subscriptions":{"get":{"operationId":"PropertiesController_getSubscriptions","parameters":[{"name":"stripeSubscriptionStatus","required":true,"in":"query","schema":{"enum":["incomplete","incomplete_expired","trialing","active","past_due","canceled","unpaid","paused"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetSubscriptionsResponseDto"}}}}}},"summary":"Get all active subscriptions for user","tags":["Properties"]}},"/api/properties/process":{"post":{"operationId":"PropertiesController_processCsvFile","parameters":[],"responses":{"201":{"description":""}},"tags":["Properties"]}},"/api/properties/webhook":{"post":{"operationId":"PropertiesController_webhook","parameters":[{"name":"webhookSecret","required":true,"in":"query","schema":{"type":"string"}},{"name":"daysOnZillow","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Properties"]}},"/api/settings/company":{"get":{"operationId":"SettingsController_getCompany","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCompanyResponseDto"}}}}},"tags":["Settings"]},"patch":{"operationId":"SettingsController_patchCompany","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchCompanyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["Settings"]}},"/api/settings/password":{"patch":{"operationId":"SettingsController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["Settings"]}},"/api/stripe/checkout-session/multiple":{"post":{"operationId":"StripeController_createCheckoutSessionMultiple","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCheckoutSessionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCheckoutSessionResponseDto"}}}}},"summary":"Create stripe checkout","tags":["Stripe"]}},"/api/stripe/webhook":{"post":{"operationId":"StripeController_handleStripeWebhook","parameters":[],"responses":{"201":{"description":""}},"summary":"Webhook for stripe","tags":["Stripe"]}},"/api/scrapper":{"post":{"operationId":"ScrapperController_runScrapper","parameters":[],"responses":{"201":{"description":""}},"tags":["Scrapper"]}}},"info":{"title":"MoverLead Documentation","description":"MoverLead Backend documentation for API references","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"ValidateUserDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"MessageResponseDto":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"RegisterDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"companyName":{"type":"string"},"password":{"type":"string"},"repeatPassword":{"type":"string"}},"required":["firstName","lastName","email","companyName","password","repeatPassword"]},"RegisterResponseDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"VerifyEmailDto":{"type":"object","properties":{"pin":{"type":"string"}},"required":["pin"]},"GetDashboardResponseDto":{"type":"object","properties":{"lastMonthCount":{"type":"number"},"thisMonthCount":{"type":"number"},"todayCount":{"type":"number"}},"required":["lastMonthCount","thisMonthCount","todayCount"]},"County":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"state":{"type":"string","enum":["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"]},"productId":{"type":"string"},"priceId":{"type":"string"},"amount":{"type":"number"},"properties":{"type":"array","items":{"type":"string"}},"zipCodes":{"type":"array","items":{"type":"array"}},"scrappingEndDate":{"type":"string"},"zillowLinks":{"type":"array","items":{"type":"array"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","state","createdAt","updatedAt"]},"Property":{"type":"object","properties":{"id":{"type":"string"},"county":{"$ref":"#/components/schemas/County"},"homeStatus":{"type":"string"},"homeStatusDate":{"format":"date-time","type":"string"},"comingSoonDate":{"format":"date-time","type":"string"},"forSaleDate":{"format":"date-time","type":"string"},"pendingDate":{"format":"date-time","type":"string"},"filteredStatus":{"type":"string"},"filteredStatusDate":{"format":"date-time","type":"string"},"initialScrape":{"type":"boolean"},"ownerFirstName":{"type":"string"},"ownerLastName":{"type":"string"},"zpid":{"type":"string"},"streetAddress":{"type":"string"},"zipcode":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"bedrooms":{"type":"number"},"bathrooms":{"type":"number"},"price":{"type":"number"},"homeType":{"type":"string"},"isOffMarket":{"type":"boolean"},"parcelId":{"type":"string"},"realtorName":{"type":"string"},"realtorPhone":{"type":"string"},"realtorCompany":{"type":"string"},"longitude":{"type":"number"},"latitude":{"type":"number"},"hasBadGeocode":{"type":"boolean"},"isUndisclosedAddress":{"type":"boolean"},"isNonOwnerOccupied":{"type":"boolean"},"livingAreaValue":{"type":"number"},"livingAreaUnitsShort":{"type":"string"},"daysOnZillow":{"type":"number"},"brokerageName":{"type":"string"},"propertyTypeDimension":{"type":"string"},"hdpTypeDimension":{"type":"string"},"listingTypeDimension":{"type":"string"},"url":{"type":"string"},"countyZillow":{"type":"string"},"photoCount":{"type":"number"},"photos":{"type":"array","items":{"type":"string"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","initialScrape"]},"FilteringResponseDto":{"type":"object","properties":{"properties":{"type":"array","items":{"$ref":"#/components/schemas/Property"}},"count":{"type":"number"}},"required":["properties","count"]},"FilteringActionDto":{"type":"object","properties":{"action":{"type":"string","enum":["FURNISHED","EMPTY","NO_DATA","NOT_FILTERED"]}},"required":["action"]},"StateResponseDto":{"type":"object","properties":{"abbreviation":{"type":"string"},"name":{"type":"string"}},"required":["abbreviation","name"]},"FetchSnapshotDto":{"type":"object","properties":{"id":{"type":"string"},"daysOnZillow":{"type":"string","enum":["1 day","36 months"]}},"required":["id","daysOnZillow"]},"SubscriptionItemsDto":{"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number"}},"required":["name","price"]},"GetSubscriptionsResponseDto":{"type":"object","properties":{"id":{"type":"string"},"currentPeriodStart":{"format":"date-time","type":"string","description":"Unix timestamp in seconds"},"currentPeriodEnd":{"format":"date-time","type":"string","description":"Unix timestamp in seconds"},"status":{"type":"string"},"subscriptionItems":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionItemsDto"}},"totalPrice":{"type":"number"}}},"GetCompanyResponseDto":{"type":"object","properties":{"companyName":{"type":"string"},"address":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"website":{"type":"string"},"phoneNumber":{"type":"string"}},"required":["companyName","address","address2","city","state","zip","website","phoneNumber"]},"PatchCompanyDto":{"type":"object","properties":{"address":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"website":{"type":"string"},"phoneNumber":{"type":"string"}}},"ChangePasswordDto":{"type":"object","properties":{"password":{"type":"string"},"newPassword":{"type":"string"},"newPasswordRepeat":{"type":"string"}},"required":["password","newPassword","newPasswordRepeat"]},"CreateCheckoutSessionDto":{"type":"object","properties":{"priceIds":{"type":"array","items":{"type":"string"}}},"required":["priceIds"]},"CreateCheckoutSessionResponseDto":{"type":"object","properties":{"checkoutUrl":{"type":"string"},"checkoutId":{"type":"string"}},"required":["checkoutUrl","checkoutId"]}}}}