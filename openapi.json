{"openapi":"3.0.0","paths":{"/api/auth":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Login with a password","tags":["Auth"]}},"/api/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Register a user","tags":["Auth"]}},"/api/auth/verify/verify-email":{"post":{"operationId":"AuthController_sendVerificationEmail","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Send a verification email","tags":["Auth"]}},"/api/auth/verify/verify-email/{token}":{"get":{"operationId":"AuthController_verifyEmail","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Endpoint for JWT token from verify email link","tags":["Auth"]}},"/api/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Forgot password","tags":["Auth"]}},"/api/auth/reset-password/{token}":{"get":{"operationId":"AuthController_forgotPasswordValidation","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Reset password validation","tags":["Auth"]}},"/api/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Reset password after token validation","tags":["Auth"]}},"/api/auth/logout":{"delete":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":""}},"summary":"Logout","tags":["Auth"]}},"/api/auth/who-am-i":{"get":{"operationId":"AuthController_getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WhoAmIResponse"}}}}},"summary":"who-am-i endpoint","tags":["Auth"]}},"/api/aws/read-results/{key}":{"get":{"operationId":"AwsController_readResults","parameters":[{"name":"key","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["aws"]}},"/api/aws/snapshots/failed":{"get":{"operationId":"AwsController_checkFailedScrapper","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FailedScrapperResponseDto"}}}}},"tags":["aws"]}},"/api/properties/dashboard":{"get":{"operationId":"PropertiesController_getDashboard","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDashboardResponseDto"}}}}},"summary":"Fetch last month, this month and today count data","tags":["Properties"]}},"/api/properties/listings":{"get":{"operationId":"PropertiesController_getListings","parameters":[{"name":"filteredStatus","required":false,"in":"query","schema":{"type":"array","items":{"type":"string","enum":["FURNISHED","EMPTY","NO_DATA"]}}},{"name":"propertyStatus","required":false,"in":"query","schema":{"type":"array","items":{"type":"string","enum":["COMING_SOON","FOR_SALE","PENDING"]}}},{"name":"state","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"propertyValueFrom","required":false,"in":"query","schema":{"type":"number"}},{"name":"propertyValueTo","required":false,"in":"query","schema":{"type":"number"}},{"name":"dateFrom","required":false,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"dateTo","required":false,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetListingsResponseDto"}}}}},"summary":"Show Listings","tags":["Properties"]}},"/api/properties/listings/export/detailed":{"post":{"operationId":"PropertiesController_listingsExportDetailed","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingsExportDto"}}}},"responses":{"200":{"description":""}},"summary":"Trigger export action for selected listings with usps needed fields","tags":["Properties"]}},"/api/properties/listings/export/usps":{"post":{"operationId":"PropertiesController_listingsExportUSPS","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingsExportDto"}}}},"responses":{"200":{"description":""}},"summary":"Trigger export action for selected listings with usps needed fields","tags":["Properties"]}},"/api/properties/listings/get-homeowners":{"post":{"operationId":"PropertiesController_getHomeowners","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingsExportDto"}}}},"responses":{"200":{"description":""}},"summary":"Trigger export action for selected listings with usps needed fields","tags":["Properties"]}},"/api/properties/filtering":{"get":{"operationId":"PropertiesController_filtering","parameters":[{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilteringResponseDto"}}}}},"summary":"Listings / show property that is not filtered","tags":["Properties"]}},"/api/properties/filtering/{id}":{"post":{"operationId":"PropertiesController_filteringAction","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilteringActionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"summary":"Action for property filtering","tags":["Properties"]}},"/api/properties/state":{"get":{"operationId":"PropertiesController_listStates","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StateResponseDto"}}}}}},"summary":"List all states","tags":["Properties"]}},"/api/properties/products":{"get":{"operationId":"PropertiesController_getProducts","parameters":[{"name":"state","required":true,"in":"query","schema":{"enum":["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/County"}}}}}},"summary":"List products by state","tags":["Properties"]}},"/api/properties/subscriptions":{"get":{"operationId":"PropertiesController_getSubscriptions","parameters":[{"name":"stripeSubscriptionStatus","required":true,"in":"query","schema":{"enum":["incomplete","incomplete_expired","trialing","active","past_due","canceled","unpaid","paused"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetSubscriptionsResponseDto"}}}}}},"summary":"Get all active subscriptions for user","tags":["Properties"]}},"/api/properties/active-states":{"get":{"operationId":"PropertiesController_getActiveStates","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StateResponseDto"}}}}}},"summary":"Get all active states","tags":["Properties"]}},"/api/properties/webhook":{"post":{"operationId":"PropertiesController_handleWebhook","parameters":[],"responses":{"201":{"description":""}},"summary":"General webhook","tags":["Properties"]}},"/api/scrapper/reddis/trigger-scrapping":{"post":{"operationId":"ScrapperController_startScrapper","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartScrapperDto"}}}},"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/brightdata/trigger":{"post":{"description":"Trigger brightdata","operationId":"ScrapperController_brightdataEnrichmentTrigger","parameters":[{"name":"brightdataVersion","required":true,"in":"query","schema":{"$ref":"#/components/schemas/BrightdataVersion"}}],"responses":{"201":{"description":""}},"summary":"","tags":["scrapper"]}},"/api/scrapper/brightdata/filler":{"post":{"operationId":"ScrapperController_brightdataEnrichmentFiller","parameters":[{"name":"snapshotId","required":true,"in":"query","schema":{"type":"string"}},{"name":"brightdataVersion","required":true,"in":"query","schema":{"enum":["BRIGHTDATA_DATASET_ID_V1","BRIGHTDATA_DATASET_ID_V2"],"type":"string"}}],"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/hasdata/trigger":{"post":{"operationId":"ScrapperController_hasdataProperty","parameters":[],"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/fetch-data":{"post":{"operationId":"ScrapperController_fetchData","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FetchDataDto"}}}},"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/cancel-all":{"post":{"operationId":"ScrapperController_cancelAllJobs","parameters":[],"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/resume":{"post":{"operationId":"ScrapperController_resumeQueue","parameters":[],"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/get-zillow-urls-for-county":{"post":{"operationId":"ScrapperController_getZillowUrlsForCounty","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetZillowUrlsForCountyDto"}}}},"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/scrapper/run-scrapper-v2":{"post":{"operationId":"ScrapperController_runScrapperV2","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunScrapperV2Dto"}}}},"responses":{"201":{"description":""}},"tags":["scrapper"]}},"/api/settings/company":{"get":{"operationId":"SettingsController_getCompany","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCompanyResponseDto"}}}}},"tags":["Settings"]},"patch":{"operationId":"SettingsController_patchCompany","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchCompanyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["Settings"]}},"/api/settings/password":{"patch":{"operationId":"SettingsController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["Settings"]}},"/api/stripe/checkout-session/multiple":{"post":{"operationId":"StripeController_createCheckoutSessionMultiple","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCheckoutSessionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCheckoutSessionResponseDto"}}}}},"summary":"Create stripe checkout","tags":["Stripe"]}},"/api/stripe/webhook":{"post":{"operationId":"StripeController_handleStripeWebhook","parameters":[],"responses":{"201":{"description":""}},"summary":"Webhook for stripe","tags":["Stripe"]}},"/api/stripe/user-subscriptions/{stripeCustomerId}":{"post":{"operationId":"StripeController_getUserSubscriptions","parameters":[{"name":"stripeCustomerId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Stripe"]}}},"info":{"title":"MoverLead Documentation","description":"MoverLead Backend documentation for API references","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"ValidateUserDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"MessageResponseDto":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"RegisterDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"companyName":{"type":"string"},"password":{"type":"string"},"repeatPassword":{"type":"string"}},"required":["firstName","lastName","email","companyName","password","repeatPassword"]},"ForgotPasswordRequestDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"password":{"type":"string"},"repeatPassword":{"type":"string"}},"required":["password","repeatPassword"]},"WhoAmIResponse":{"type":"object","properties":{"email":{"type":"string"},"companyName":{"type":"string"},"logoUrl":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","FORGOT_PASSWORD","NOT_VERIFIED"]},"id":{"type":"string"},"iat":{"type":"string"},"exp":{"type":"string"}},"required":["email","companyName","logoUrl","status","id","iat","exp"]},"FailedScrapperResponseDto":{"type":"object","properties":{"s3Key":{"type":"string"},"zillowUrl":{"type":"string"},"minPrice":{"type":"string"},"maxPrice":{"type":"string"},"countyId":{"type":"string"}},"required":["s3Key","zillowUrl","minPrice","maxPrice","countyId"]},"GetDashboardResponseDto":{"type":"object","properties":{"lastMonthCount":{"type":"number"},"thisMonthCount":{"type":"number"},"todayCount":{"type":"number"}},"required":["lastMonthCount","thisMonthCount","todayCount"]},"GetListingObjectDto":{"type":"object","properties":{"id":{"type":"string"},"fullName":{"type":"string"},"filteredStatus":{"type":"string","enum":["FURNISHED","EMPTY","NO_DATA"]},"propertyStatus":{"type":"string","enum":["COMING_SOON","FOR_SALE","PENDING"]},"propertyStatusDate":{"type":"string"},"fullAddress":{"type":"string"},"state":{"type":"string"},"bedrooms":{"type":"number"},"bathrooms":{"type":"number"},"price":{"type":"string"},"homeType":{"type":"string"},"realtorName":{"type":"string"},"realtorPhone":{"type":"string"},"brokerageName":{"type":"string"},"brokeragePhone":{"type":"string"}},"required":["id","fullName","propertyStatus","propertyStatusDate","fullAddress","state","homeType"]},"GetListingsResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/GetListingObjectDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"ListingsExportDto":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"string"}}},"required":["ids"]},"FilteringObjectDto":{"type":"object","properties":{"id":{"type":"string"},"photos":{"type":"array","items":{"type":"string"}}},"required":["id","photos"]},"FilteringResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/FilteringObjectDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"FilteringActionDto":{"type":"object","properties":{"action":{"type":"string","enum":["FURNISHED","EMPTY","NO_DATA"]}},"required":["action"]},"StateResponseDto":{"type":"object","properties":{"abbreviation":{"type":"string"},"name":{"type":"string"}},"required":["abbreviation","name"]},"County":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"state":{"type":"string","enum":["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"]},"productId":{"type":"string"},"priceId":{"type":"string"},"amount":{"type":"number"},"properties":{"type":"array","items":{"type":"string"}},"zipCodes":{"type":"array","items":{"type":"array"}},"scrappingEndDate":{"type":"string"},"zillowLinks":{"type":"array","items":{"type":"array"}},"zillowLink":{"type":"string"},"zillowDefineInput":{"type":"array","items":{"type":"array"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","state","createdAt","updatedAt"]},"SubscriptionItemsDto":{"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number"}},"required":["name","price"]},"GetSubscriptionsResponseDto":{"type":"object","properties":{"id":{"type":"string"},"currentPeriodStart":{"format":"date-time","type":"string","description":"Unix timestamp in seconds"},"currentPeriodEnd":{"format":"date-time","type":"string","description":"Unix timestamp in seconds"},"status":{"type":"string"},"subscriptionItems":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionItemsDto"}},"totalPrice":{"type":"number"}}},"StartScrapperDto":{"type":"object","properties":{"initialScrapper":{"type":"boolean"}},"required":["initialScrapper"]},"BrightdataVersion":{"type":"string","enum":["BRIGHTDATA_DATASET_ID_V1","BRIGHTDATA_DATASET_ID_V2"]},"FetchDataDto":{"type":"object","properties":{"initialScrapper":{"type":"boolean"}},"required":["initialScrapper"]},"GetZillowUrlsForCountyDto":{"type":"object","properties":{"urls":{"type":"array","items":{"type":"string"}}},"required":["urls"]},"RunScrapperV2Dto":{"type":"object","properties":{"initialScrapper":{"type":"boolean"}},"required":["initialScrapper"]},"GetCompanyResponseDto":{"type":"object","properties":{"companyName":{"type":"string"},"address":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"website":{"type":"string"},"phoneNumber":{"type":"string"}},"required":["companyName","address","address2","city","state","zip","website","phoneNumber"]},"PatchCompanyDto":{"type":"object","properties":{"companyName":{"type":"string"},"address":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"website":{"type":"string"},"phoneNumber":{"type":"string"}}},"ChangePasswordDto":{"type":"object","properties":{"password":{"type":"string"},"newPassword":{"type":"string"},"newPasswordRepeat":{"type":"string"}},"required":["password","newPassword","newPasswordRepeat"]},"CreateCheckoutSessionDto":{"type":"object","properties":{"priceIds":{"type":"array","items":{"type":"string"}}},"required":["priceIds"]},"CreateCheckoutSessionResponseDto":{"type":"object","properties":{"checkoutUrl":{"type":"string"},"checkoutId":{"type":"string"}},"required":["checkoutUrl","checkoutId"]}}}}